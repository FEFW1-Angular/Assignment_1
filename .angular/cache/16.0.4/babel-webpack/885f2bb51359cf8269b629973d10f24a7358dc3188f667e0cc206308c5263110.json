{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nlet CategoryEditComponent = class CategoryEditComponent {\n  constructor(categoryService, formBuilder, route, router) {\n    this.categoryService = categoryService;\n    this.formBuilder = formBuilder;\n    this.route = route;\n    this.router = router;\n    this.submitted = false;\n    this.categoryForm = this.formBuilder.group({\n      name: ['', [Validators.required, Validators.minLength(4), Validators.pattern('^[^0-9]+$')]]\n    });\n    this.route.paramMap.subscribe(params => {\n      const id = String(params.get('id'));\n      this.categoryService.getCategoryById(id).subscribe(category => {\n        this.category = category;\n        this.categoryForm.patchValue({\n          name: this.category.name\n        });\n      }, error => console.log(error.message));\n    });\n  }\n  onHandleUpdate() {\n    if (this.categoryForm.valid) {\n      const newCategory = {\n        _id: this.category._id,\n        name: this.categoryForm.value.name || \"\"\n      };\n      this.categoryService.updateCategory(newCategory).subscribe(category => {\n        Swal.fire({\n          position: 'center',\n          icon: 'success',\n          title: 'Category has been added successfully!',\n          showConfirmButton: false,\n          timer: 1500\n        });\n        this.router.navigate(['/admin/categories']);\n      }, error => {\n        console.log(error.message);\n      });\n    }\n  }\n};\nCategoryEditComponent = __decorate([Component({\n  selector: 'app-category-edit',\n  templateUrl: './category-edit.component.html',\n  styleUrls: ['./category-edit.component.scss']\n})], CategoryEditComponent);\nexport { CategoryEditComponent };","map":{"version":3,"names":["Component","Validators","Swal","CategoryEditComponent","constructor","categoryService","formBuilder","route","router","submitted","categoryForm","group","name","required","minLength","pattern","paramMap","subscribe","params","id","String","get","getCategoryById","category","patchValue","error","console","log","message","onHandleUpdate","valid","newCategory","_id","value","updateCategory","fire","position","icon","title","showConfirmButton","timer","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ducph\\OneDrive\\Desktop\\FPT Polytechnic\\Angular\\Assignment\\Assignment1\\src\\app\\page\\admin\\admin-product-edit\\admin-product-edit.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Route, Router } from '@angular/router';\r\nimport { ICategory } from 'src/app/interface/category';\r\nimport { IProduct } from 'src/app/interface/product';\r\nimport { CategoryService } from 'src/app/services/category/category.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-category-edit',\r\n  templateUrl: './category-edit.component.html',\r\n  styleUrls: ['./category-edit.component.scss']\r\n})\r\nexport class CategoryEditComponent {\r\n  submitted=false\r\n  category!: ICategory;\r\n  categoryForm = this.formBuilder.group({\r\n    name: ['', [Validators.required, Validators.minLength(4),Validators.pattern('^[^0-9]+$')]],\r\n  })\r\n\r\n  constructor(private categoryService: CategoryService,\r\n    private formBuilder: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router) {\r\n    this.route.paramMap.subscribe(params => {\r\n      const id = String(params.get('id'));\r\n      this.categoryService.getCategoryById(id).subscribe(category => {\r\n        this.category = category;        \r\n        this.categoryForm.patchValue({\r\n          name: this.category.name,\r\n        })\r\n      }, error => console.log(error.message)\r\n      )\r\n    })\r\n  }\r\n  onHandleUpdate() {\r\n    if (this.categoryForm.valid) {\r\n      const newCategory: ICategory = {\r\n        _id: this.category._id,\r\n        name: this.categoryForm.value.name || \"\"  \r\n      }      \r\n     \r\n      \r\n      this.categoryService.updateCategory(newCategory).subscribe(category=>{\r\n        \r\n        Swal.fire({\r\n          position: 'center',\r\n          icon: 'success',\r\n          title: 'Category has been added successfully!',\r\n          showConfirmButton: false,\r\n          timer: 1500\r\n        })\r\n        this.router.navigate(['/admin/categories'])\r\n      }, error => {\r\n        console.log(error.message);\r\n      })\r\n    }\r\n  }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAsBC,UAAU,QAAQ,gBAAgB;AAKxD,OAAOC,IAAI,MAAM,aAAa;AAO9B,IAAaC,qBAAqB,GAAlC,MAAaA,qBAAqB;EAOhCC,YAAoBC,eAAgC,EAC1CC,WAAwB,EACxBC,KAAqB,EACrBC,MAAc;IAHJ,KAAAH,eAAe,GAAfA,eAAe;IACzB,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IAThB,KAAAC,SAAS,GAAC,KAAK;IAEf,KAAAC,YAAY,GAAG,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MACpCC,IAAI,EAAE,CAAC,EAAE,EAAE,CAACX,UAAU,CAACY,QAAQ,EAAEZ,UAAU,CAACa,SAAS,CAAC,CAAC,CAAC,EAACb,UAAU,CAACc,OAAO,CAAC,WAAW,CAAC,CAAC;KAC1F,CAAC;IAMA,IAAI,CAACR,KAAK,CAACS,QAAQ,CAACC,SAAS,CAACC,MAAM,IAAG;MACrC,MAAMC,EAAE,GAAGC,MAAM,CAACF,MAAM,CAACG,GAAG,CAAC,IAAI,CAAC,CAAC;MACnC,IAAI,CAAChB,eAAe,CAACiB,eAAe,CAACH,EAAE,CAAC,CAACF,SAAS,CAACM,QAAQ,IAAG;QAC5D,IAAI,CAACA,QAAQ,GAAGA,QAAQ;QACxB,IAAI,CAACb,YAAY,CAACc,UAAU,CAAC;UAC3BZ,IAAI,EAAE,IAAI,CAACW,QAAQ,CAACX;SACrB,CAAC;MACJ,CAAC,EAAEa,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC,CACrC;IACH,CAAC,CAAC;EACJ;EACAC,cAAcA,CAAA;IACZ,IAAI,IAAI,CAACnB,YAAY,CAACoB,KAAK,EAAE;MAC3B,MAAMC,WAAW,GAAc;QAC7BC,GAAG,EAAE,IAAI,CAACT,QAAQ,CAACS,GAAG;QACtBpB,IAAI,EAAE,IAAI,CAACF,YAAY,CAACuB,KAAK,CAACrB,IAAI,IAAI;OACvC;MAGD,IAAI,CAACP,eAAe,CAAC6B,cAAc,CAACH,WAAW,CAAC,CAACd,SAAS,CAACM,QAAQ,IAAE;QAEnErB,IAAI,CAACiC,IAAI,CAAC;UACRC,QAAQ,EAAE,QAAQ;UAClBC,IAAI,EAAE,SAAS;UACfC,KAAK,EAAE,uCAAuC;UAC9CC,iBAAiB,EAAE,KAAK;UACxBC,KAAK,EAAE;SACR,CAAC;QACF,IAAI,CAAChC,MAAM,CAACiC,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC;MAC7C,CAAC,EAAEhB,KAAK,IAAG;QACTC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC;MAC5B,CAAC,CAAC;;EAEN;CACD;AA7CYzB,qBAAqB,GAAAuC,UAAA,EALjC1C,SAAS,CAAC;EACT2C,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACW1C,qBAAqB,CA6CjC;SA7CYA,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}